<?xml version="1.0"?>

<!-- ======================================================== -->
<!--              Master WONDER Ant build file                -->
<!-- Servers as a facade to other buildfiles.                 -->
<!-- "basedir" is wonder project directory, not "build" where -->
<!-- this files is located.                                   --> 
<!-- ======================================================== -->
<project name="Wonder" default="all" basedir="../..">
    
    <import file="generic.xml" />
    
    <target name="ERJars.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERJars" />
            <param name="project.dir" value="Common/Frameworks/ERJars" />
        </antcall>
    </target>
   
    <target name="JavaWOExtensions.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="JavaWOExtensions" />
            <param name="project.dir" value="Common/Frameworks/JavaWOExtensions" />
        </antcall>
    </target>

    <target name="ERCaptcha.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERCaptcha" />
            <param name="project.dir" value="Common/Frameworks/ERCaptcha" />
            <param name="use.wonder.core" value="true" />
       </antcall>
    </target>

    <target name="ERRest.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERRest" />
            <param name="project.dir" value="Common/Frameworks/ERRest" />
            <param name="use.wonder.core" value="true" />
       </antcall>
    </target>

    <target name="EROpenID.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="EROpenID" />
            <param name="project.dir" value="Common/Frameworks/EROpenID" />
            <param name="use.wonder.core" value="true" />
       </antcall>
    </target>

    <target name="ERJGroupsSynchronizer.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERJGroupsSynchronizer" />
            <param name="project.dir" value="Common/Frameworks/ERJGroupsSynchronizer" />
            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>

    <target name="ERExtensions.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.extensions.ERXExtensions" />
            <param name="project.name" value="ERExtensions" />
            <param name="project.dir" value="Common/Frameworks/ERExtensions" />
            <param name="patches.dir" value="Common/Frameworks/ERExtensions/${erx.patches.dir}" />

            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>
    
    <target name="ERDirectToWeb.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.directtoweb.ERDirectToWeb" />
            <param name="project.name" value="ERDirectToWeb" />
            <param name="project.dir" value="Common/Frameworks/ERDirectToWeb" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.wonder.logic" value="true" />
        </antcall>
    </target>
    
    <target name="ERPrototypes.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.prototypes.ERPrototypes" />
            <param name="project.name" value="ERPrototypes" />
            <param name="project.dir" value="Common/Frameworks/ERPrototypes" />

            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>

    <target name="ERJavaMail.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.javamail.ERJavaMail" />
            <param name="project.name" value="ERJavaMail" />
            <param name="project.dir" value="Common/Frameworks/ERJavaMail" />
            <param name="use.wonder.core" value="true" />
       </antcall>
    </target>

    <target name="ERIndexing.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERIndexing" />
            <param name="project.dir" value="Common/Frameworks/ERIndexing" />
            <param name="use.wonder.core" value="true" />
       </antcall>
    </target>
    
    <target name="ERPlot.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.plot.ERPlot" />
            <param name="project.name" value="ERPlot" />
            <param name="project.dir" value="Common/Frameworks/ERPlot" />
            <param name="use.wonder.core" value="true" />
       </antcall>
    </target>
    
    <target name="ERExcelLook.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.directtoweb.excel.ERExcelLook" />
            <param name="project.name" value="ERExcelLook" />
            <param name="project.dir" value="Common/Frameworks/ERExcelLook" />
            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
       </antcall>
    </target>
    
    <target name="ERCoreBusinessLogic.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.corebusinesslogic.ERCoreBusinessLogic" />
            <param name="project.name" value="ERCoreBusinessLogic" />
            <param name="project.dir" value="Common/Frameworks/ERCoreBusinessLogic" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.mail" value="true" />
            <param name="use.wonder.d2w" value="true" />
        </antcall>
    </target>
    
    <target name="ERChangeNotificationJMS.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.changenotification.ERCNNotificationCoordinator" />
            <param name="project.name" value="ERChangeNotificationJMS" />
            <param name="project.dir" value="Common/Frameworks/ERChangeNotificationJMS" />
            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>

    <target name="ERNeutralLook.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERNeutralLook" />
            <param name="project.dir" value="Common/Frameworks/ERNeutralLook" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.wonder.logic" value="true" />
        </antcall>
    </target>
    
    <target name="WOOgnl.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="ognl.webobjects.WOOgnl" />
            <param name="project.name" value="WOOgnl" />
            <param name="project.dir" value="Common/Frameworks/WOOgnl" />

            <param name="use.wonder.jars" value="true" />
        </antcall>
    </target>

    <target name="BTBusinessLogic.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.bugtracker.BTBusinessLogic" />
            <param name="project.name" value="BTBusinessLogic" />
            <param name="project.dir" value="Common/Applications/BugTracker/Frameworks/BTBusinessLogic" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.wonder.logic" value="true" />
        </antcall>
    </target>

    <target name="BugTracker.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.bugtracker.Application" />
            <param name="project.name" value="BugTracker" />
            <param name="project.dir" value="Common/Applications/BugTracker" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.wonder.logic" value="true" />
            <param name="use.wonder.mail" value="true" />
            <param name="use.woognl" value="true" />
            <param name="use.reporting" value="true" />
            <param name="use.excel" value="true" />
            <param name="use.plot" value="true" />
            <param name="use.wonder.ajax" value="true" />
            <param name="use.additional.framework.1" value="BTBusinessLogic.framework" />
            <param name="use.additional.framework.2" value="PostgresqlPlugIn.framework" />
        </antcall>
    </target>

    <target name="ERMailer.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.javamail.mailer.Application" />
            <param name="project.name" value="ERMailer" />
            <param name="project.dir" value="Common/Applications/ERMailer" />
 
            <param name="use.wonder.core" value="true" />
            <param name="use.wonder.logic" value="true" />
            <param name="use.wonder.mail" value="true" />
       </antcall>
    </target>

    <target name="D2WInspectExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="D2WInspectExample" />
            <param name="project.dir" value="Common/Examples/Stepwise/D2WInspectExample" />
 
            <param name="use.webobjects.d2w" value="true" />
       </antcall>
    </target>

    <target name="ERMovies.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.examples.movies.Application" />
            <param name="project.name" value="ERMovies" />
            <param name="project.dir" value="Common/Examples/ERMovies" />
 
            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.movies" value="true" />
       </antcall>
    </target>

    <target name="D2WListExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="D2WListExample" />
            <param name="project.dir" value="Common/Examples/Stepwise/D2WListExample" />
            <param name="use.webobjects.d2w" value="true" />
         </antcall>
    </target>

    <target name="D2WComponentTour.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="D2WComponentTour" />
            <param name="project.dir" value="Common/Examples/D2WComponentTour" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
         </antcall>
    </target>

    <target name="NetStruxrCaseStudy.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="NetStruxrCaseStudy" />
            <param name="project.dir" value="Common/Examples/Wrox/NetStruxrCaseStudy" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.wonder.logic" value="true" />
        </antcall>
    </target>
    
    <target name="ERMiniUglyLook.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERMiniUglyLook" />
            <param name="project.dir" value="Common/Examples/Wrox/ERMiniUglyLook" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
        </antcall>
    </target>
    
    <target name="WOPayPal.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.wopaypal.WOPayPal" />
            <param name="project.name" value="WOPayPal" />
            <param name="project.dir" value="PayPal/Frameworks/WOPayPal" />
        </antcall>
    </target>

    <target name="DRGrouping.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="DRGrouping" />
            <param name="project.dir" value="DynaReporting/Frameworks/DRGrouping" />
            <param name="use.wonder.core" value="true" />
            <param name="use.woognl" value="true" />
        </antcall>
    </target>

    <target name="WRReporting.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="WRReporting" />
            <param name="project.dir" value="DynaReporting/Frameworks/WRReporting" />
            <param name="use.wonder.core" value="true" />
            <param name="use.woognl" value="true" />
            <param name="use.reporting" value="true" />
        </antcall>
    </target>

    <target name="DocsByExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.reporting.examples.Application" />
            <param name="project.name" value="DocsByExample" />
            <param name="project.dir" value="DynaReporting/Examples/DocsByExample" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.core" value="true" />
            <param name="use.reporting" value="true" />
            <param name="use.mysql" value="true" />
            <param name="use.movies" value="true" />
        </antcall>
    </target>

    <target name="DynaReporter.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.reporting.examples.Application" />
            <param name="project.name" value="DynaReporter" />
            <param name="project.dir" value="DynaReporting/Examples/DynaReporter" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.core" value="true" />
            <param name="use.reporting" value="true" />
            <param name="use.mysql" value="true" />
            <param name="use.movies" value="true" />
        </antcall>
    </target>

    <target name="DRGroupingTest.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.grouping.examples.Application" />
            <param name="project.name" value="DRGroupingTest" />
            <param name="project.dir" value="DynaReporting/Examples/DRGroupingTest" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.core" value="true" />
            <param name="use.grouping" value="true" />
            <param name="use.mysql" value="true" />
            <param name="use.movies" value="true" />
        </antcall>
    </target>

    <target name="Validity.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="Validity" />
            <param name="project.dir" value="Validity/Frameworks/Validity" />
        </antcall>
    </target>
    
    <target name="specific.validity.application">
        <antcall target="global.application.build" />
            <move todir="${build.root}/ValidityModeler.woa/Contents/WebServerResources" flatten="true" includeEmptyDirs="no">
            <fileset dir="${build.root}/ValidityModeler.woa/Contents/WebServerResources" />
        </move>
    </target>

    <target name="ValidityModeler.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ValidityModeler" />
            <param name="project.dir" value="Validity/Applications/ValidityModeler" />
            <param name="use.validity" value="true" />
        </antcall>
    </target>

    <target name="ValidityExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ValidityExample" />
            <param name="project.dir" value="Validity/Examples/ValidityExample" />

            <param name="use.validity" value="true" />
        </antcall>
    </target>
	
    <target name="SVGObjects.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="SVGObjects" />
            <param name="project.dir" value="SVGObjects/Frameworks/SVGObjects" />
        </antcall>
    </target>

    <target name="SVGObjects.ComponentTour.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="org.svgobjects.examples.componenttour.Application" />
            <param name="project.name" value="SVGObjectsComponentTour" />
            <param name="project.dir" value="SVGObjects/Examples/ComponentTour" />

            <param name="use.svgobjects" value="true" />
        </antcall>
    </target>
	
    <target name="SVGObjects.eCards.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="org.svgobjects.examples.ecard.Application" />
            <param name="project.name" value="SVGObjectsECards" />
            <param name="project.dir" value="SVGObjects/Examples/eCards" />

            <param name="use.svgobjects" value="true" />
        </antcall>
    </target>
	
    <target name="SVGObjects.EZForms.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="org.svgobjects.examples.ezforms.Application" />
            <param name="project.name" value="SVGObjectsEZForms" />
            <param name="project.dir" value="SVGObjects/Examples/EZForms" />

            <param name="use.svgobjects" value="true" />
        </antcall>
    </target>
	
    <target name="SVGObjects.Hello.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="org.svgobjects.examples.hello.Application" />
            <param name="project.name" value="SVGObjectsHello" />
            <param name="project.dir" value="SVGObjects/Examples/Hello" />

            <param name="use.svgobjects" value="true" />
        </antcall>
    </target>
	
    <target name="SVGObjects.PopIdol.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="org.svgobjects.examples.popidol.Application" />
            <param name="project.name" value="SVGObjectsPopIdol" />
            <param name="project.dir" value="SVGObjects/Examples/PopIdol" />

            <param name="use.svgobjects" value="true" />
        </antcall>
    </target>
	
    <target name="DevStudio.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="ag.kcmedia.Application" />
            <param name="project.name" value="DevStudio" />
            <param name="project.dir" value="Experimental/DevStudio" />

            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
         </antcall>
    </target>

    <target name="ERCalendar.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERCalendar" />
            <param name="project.dir" value="Common/Frameworks/ERCalendar" />
        </antcall>
    </target>

    <target name="EGSampleApp.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="er.excel.Application" />
            <param name="project.name" value="EGSampleApp" />
            <param name="project.dir" value="ExcelGeneration/Examples/EGSampleApp" />
	    <param name="use.additional.framework.1" value="ExcelGenerator.framework" />
            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>
    <target name="EROpenIDExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="EROpenIDExample" />
            <param name="project.dir" value="Common/Examples/EROpenIDExample" />
	        	<param name="use.additional.framework.1" value="EROpenID.framework" />
            <param name="use.wonder.core" value="true" />
            <param name="use.wonder.openid" value="true" />
        </antcall>
    </target>
    <target name="ExcelGenerator.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ExcelGenerator" />
            <param name="project.dir" value="ExcelGeneration/Frameworks/ExcelGenerator" />

            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>
    <target name="AjaxExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="AjaxExample" />
            <param name="project.dir" value="Ajax/AjaxExample" />
	        <param name="use.additional.framework.1" value="Ajax.framework" />
            <param name="use.wonder.core" value="true" />
            <param name="use.wonder.ajax" value="true" />
        </antcall>
    </target>
    <target name="Ajax.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="er.ajax.Ajax" />
            <param name="project.name" value="Ajax" />
            <param name="project.dir" value="Ajax/Ajax" />
            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>
    <target name="YUIExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="YUIExample" />
            <param name="project.dir" value="Ajax/YUIExample" />
      		<param name="use.additional.framework.1" value="Ajax.framework" />
      		<param name="use.additional.framework.2" value="YUI.framework" />
            <param name="use.wonder.core" value="true" />
            <param name="use.wonder.ajax" value="true" />
            <param name="use.wonder.yui" value="true" />
        </antcall>
    </target>
    <target name="YUI.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="YUI" />
            <param name="project.dir" value="Ajax/YUI" />
            <param name="use.additional.framework.1" value="Ajax.framework" />
            <param name="use.wonder.core" value="true" />
            <param name="use.wonder.ajax" value="true" />
        </antcall>
    </target>
    
    <target name="AjaxLookExample.all">
        <antcall target="global.application.${build.action}" >
            <param name="project.type" value="application" />
            <param name="project.principal.class" value="Application" />
            <param name="project.name" value="AjaxLookExample" />
            <param name="project.dir" value="Ajax/AjaxLookExample" />
      		<param name="use.additional.framework.1" value="Ajax.framework" />
      		<param name="use.additional.framework.2" value="YUI.framework" />
      		<param name="use.additional.framework.3" value="AjaxLook.framework" />
            <param name="use.wonder.core" value="true" />
            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.wonder.ajax" value="true" />
            <param name="use.wonder.yui" value="true" />
        </antcall>
    </target>
    <target name="AjaxLook.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="AjaxLook" />
            <param name="project.dir" value="Ajax/AjaxLook" />
      		<param name="use.additional.framework.1" value="Ajax.framework" />
      		<param name="use.additional.framework.2" value="YUI.framework" />
            <param name="use.wonder.core" value="true" />
            <param name="use.wonder.d2w" value="true" />
            <param name="use.webobjects.d2w" value="true" />
            <param name="use.wonder.ajax" value="true" />
        </antcall>
    </target>

    <target name="ERIMAdaptor.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERIMAdaptor" />
            <param name="project.dir" value="WOAdaptors/ERIMAdaptor" />
	    <param name = "compiler.target" value = "1.5" />
	    <param name = "compiler.source" value = "1.5" />

            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>
    <target name="ERWorkerChannel.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="" />
            <param name="project.name" value="ERWorkerChannel" />
            <param name="project.dir" value="Common/Frameworks/ERWorkerChannel" />

            <param name="use.wonder.core" value="true" />
        </antcall>
    </target>
    <target name="PostgresqlPlugIn.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="com.webobjects.jdbcadaptor.PostgresqlPlugIn" />
            <param name="project.name" value="PostgresqlPlugIn" />
            <param name="project.dir" value="PlugIns/PostgresqlPlugIn" />
        </antcall>
    </target>
    <target name="FrontBasePlugIn.all">
        <antcall target="global.framework.${build.action}" >
            <param name="project.principal.class" value="com.webobjects.jdbcadaptor.FrontbasePlugIn" />
            <param name="project.name" value="FrontBasePlugIn" />
            <param name="project.dir" value="PlugIns/FrontBasePlugIn" />
        </antcall>
    </target>
    
    <!-- 
        The targets here correspond to a top-level directory, split into frameworks, apps and examples
        to add your own, add a target definition above and choose the correct group below 
     -->
    <target name="common.frameworks.all" depends="ERJars.all, JavaWOExtensions.all, ERExtensions.all, ERDirectToWeb.all, ERNeutralLook.all, WOOgnl.all, ERPrototypes.all, ERPlot.all, ERIndexing.all, ERCaptcha.all, EROpenID.all, ERJGroupsSynchronizer.all, ERRest.all, ERJavaMail.all, ERCoreBusinessLogic.all, ERChangeNotificationJMS.all, ERCalendar.all, ERExcelLook.all, ERWorkerChannel.all, BTBusinessLogic.all, ERMiniUglyLook.all" />
    
    <target name="common.applications.all" depends="BugTracker.all, ERMailer.all" />

    <target name="common.examples.all" depends="ERMiniUglyLook.all, NetStruxrCaseStudy.all, D2WListExample.all, D2WInspectExample.all, ERMovies.all, D2WComponentTour.all, AjaxExample.all, YUIExample.all, EROpenIDExample.all" />
    
    <target name="dynareporting.frameworks.all" depends="DRGrouping.all, WRReporting.all" />
    <target name="dynareporting.examples.all" depends="DocsByExample.all, DynaReporter.all, DRGroupingTest.all" />
    
    <target name="excelgeneration.frameworks.all" depends="ExcelGenerator.all" />
    <target name="excelgeneration.examples.all" depends="EGSampleApp.all" />
    
    <target name="ajax.frameworks.all" depends="Ajax.all, YUI.all, AjaxLook.all" />
    <target name="ajax.examples.all" depends="AjaxExample.all, YUIExample.all, AjaxLookExample.all" />
    
    <target name="plugins.all" depends="PostgresqlPlugIn.all,FrontBasePlugIn.all" />

    <target name="validity.frameworks.all" depends="Validity.all" />
    <target name="validity.applications.all" depends="ValidityModeler.all" />
    <target name="validity.examples.all" depends="ValidityExample.all" />

    <target name="svgobjects.frameworks.all" depends="SVGObjects.all" />
    <target name="svgobjects.examples.all" depends="SVGObjects.ComponentTour.all, SVGObjects.eCards.all, SVGObjects.EZForms.all, SVGObjects.Hello.all, SVGObjects.PopIdol.all" />

    <target name="paypal.frameworks.all" depends="WOPayPal.all" />
    <target name="woadaptors.all" depends="ERIMAdaptor.all" />
    <target name="experimental.all" depends="DevStudio.all" />
    
    <target name="frameworks.all" depends="common.frameworks.all, excelgeneration.frameworks.all, ajax.frameworks.all, woadaptors.all, validity.frameworks.all, svgobjects.frameworks.all, plugins.all, paypal.frameworks.all, dynareporting.frameworks.all, woadaptors.all"/>
    <target name="applications.all" depends="DevStudio.all, common.applications.all, validity.applications.all"/>
    <target name="examples.all" depends="common.examples.all, excelgeneration.examples.all, validity.examples.all, dynareporting.examples.all, ajax.examples.all, experimental.all"/>


    <target name="all.run" depends="frameworks.all, applications.all, examples.all"/>
    
    <target name="dist">
        <!-- do dist target on known frameworks -->
        <antcall target="all.run" >
            <param name="dist.base" value="${dist.base}" />
            <param name="project.version" value="${project.version}" />
            <param name="dist.dir" value="${dist.base}/Wonder-${project.version}"/>
            <param name="build.action" value="dist" />
        </antcall>

        <!-- copy the whole source to src -->
        <copy todir="${dist.base}/Wonder-src-${project.version}" 
                includeEmptyDirs="false" preservelastmodified="true">
            <fileset dir=".">
                <exclude name="**/CVS/*" />
             	<exclude name="**/dist/**"/>
             	<exclude name="**/bin/**"/>
             	<exclude name="**/build/**"/>
             	<exclude name="**/target/**"/>
            </fileset>
        </copy>
        
        <tar tarfile="${dist.base}/Wonder-src-${project.version}.tar" longfile="gnu">
            <tarfileset dir="${dist.base}/Wonder-src-${project.version}">
            </tarfileset>
        </tar>

        <gzip src="${dist.base}/Wonder-src-${project.version}.tar" 
            zipfile="${dist.base}/Wonder-src-${project.version}.tgz"/>

        <delete file="${dist.base}/Wonder-src-${project.version}.tar"/>
        <zip destfile="${dist.base}/Wonder-${project.version}.zip" 
            basedir="${dist.base}/Wonder-${project.version}"
            excludes="**/CVS/*, **/dist/**" />
    </target>

    <target name="build">
        <property name="include.source" value="true" />
        <antcall target="all.run" >
            <param name="build.action" value="build" />
        </antcall>
    </target>

    <target name="install">
        <antcall target="all.run" >
            <param name="build.action" value="install" />
        </antcall>
    </target>
    
    <target name="web">
        <antcall target="all.run" >
            <param name="build.action" value="web" />
        </antcall>
    </target>
    
    <target name="clean">
        <antcall target="all.run" >
            <param name="build.action" value="clean" />
        </antcall>
    </target>
    
    <target name="all" depends="build, install, web" />
</project>
