<?xml version="1.0"?>

<!-- ======================================================== -->
<!--              Master WONDER Ant build file                -->
<!-- Servers as a facade to other buildfiles.                 -->
<!-- "basedir" is wonder project directory, not "build" where -->
<!-- this files is located.                                   --> 
<!-- ======================================================== -->
<project name="wonder" default="all" basedir="..">
	
    <!-- ==================================================== -->
    <!--              Import properties.                      -->
    <!-- Properties that are imported first take precedence   -->
    <!-- over the properties imported later.                  -->
    <!-- NOTE: ONLY "default.properties" EXISTS IN CVS,       -->
    <!-- VARIOUS "build.properties" FILEA ARE LOCAL TO        -->
    <!-- THE DEVELOPER MACHINE AND ALLOW BUILD CUSTOMIZATION. -->                       
    <!-- ==================================================== -->
    <property file="build/build.properties" />
    <property file="${user.home}/build.properties" />
    <property file="build/default.properties" />
    
    
    <!-- ==================================================== -->
    <!--              Derived Properties.                     -->
    <!-- These properties are derived from other properties.  -->
    <!-- Normally, these should not be redefined.             -->
    <!-- ==================================================== -->
    <property name="dist" value="${dist.base}/${project.name}-${project.version}"/>
    

    <!-- ==================================================== -->
    <!-- Sets up build and distribution directories.          -->
    <!-- ==================================================== -->
    <target name="prepare">
        <mkdir dir="${dist}"/>
    </target>


    <!-- ==================================================== -->
    <!-- Clean WONDER                                         -->
    <!-- ==================================================== -->
    <target name="clean">
        <delete dir="${dist.base}"/>
    </target>


    <!-- ==================================================== -->
    <!-- Main "build-all" target.                             -->
    <!-- ==================================================== -->
    <target name="all" depends="prepare,frameworks,doc"/>
    
    
    <!-- ==================================================== -->
    <!-- Build Wonder documenatation.                         -->
    <!-- ==================================================== -->
    <target name="doc">
 		<ant antfile="build/build-doc.xml"/>
    </target>
    
    <!-- ==================================================== -->
    <!-- Build Wonder Frameworks.                             -->
    <!-- ==================================================== -->
    <target name="frameworks">
 		<ant antfile="build/build-fr.xml"/>
    </target>
</project>
