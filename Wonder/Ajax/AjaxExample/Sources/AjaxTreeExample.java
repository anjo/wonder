// Generated by the WOLips Templateengine Plug-in at Sep 17, 2006 6:02:52 PM

import com.webobjects.appserver.*;
import com.webobjects.foundation.NSArray;
import com.webobjects.foundation.NSMutableArray;

import er.ajax.ITreeNode;

public class AjaxTreeExample extends WOComponent {
  public ITreeNode _rootTreeNode;

  public AjaxTreeExample(WOContext context) {
    super(context);
    _rootTreeNode = new FakeTreeNode(null, "Root");
  }

  public class FakeTreeNode implements ITreeNode {
    private ITreeNode _parentTreeNode;
    private NSMutableArray _children;
    private String _name;

    public FakeTreeNode(ITreeNode parentTreeNode, String name) {
      _parentTreeNode = parentTreeNode;
      _name = name;
    }

    public synchronized NSArray childrenTreeNodes() {
      if (_children == null) {
        _children = new NSMutableArray();
        for (int i = 0; i < 10; i++) {
          _children.addObject(new FakeTreeNode(this, _name + " Child " + i));
        }
      }
      return _children;
    }

    public boolean isLeaf() {
      return false;
    }

    public ITreeNode parentTreeNode() {
      return _parentTreeNode;
    }

    public String toString() {
      return _name;
    }
  }
}