package er.ajax;

// Generated by the WOLips Templateengine Plug-in at 11.08.2006 13:19:58
// http://jquery.com/demo/thickbox/

import com.webobjects.appserver.*;
import com.webobjects.foundation.*;

public class AjaxIBoxComponentContent extends AjaxDynamicElement {

    public AjaxIBoxComponentContent(String name, NSDictionary associations, WOElement children) {
	super(name, associations, children);
    }

    public void appendToResponse(WOResponse response, WOContext context) {
	WOComponent component = context.component();
	String divID=AjaxUtils.toSafeElementID(context.elementID());
	response.appendContentString("<a ");
	appendTagAttributeToResponse(response, "href", "#"+divID);
	appendTagAttributeToResponse(response, "rel", "ibox&height="+valueForBinding("height", component)+"&width=" + valueForBinding("width", component));
	appendTagAttributeToResponse(response, "title", valueForBinding("title", component));
	appendTagAttributeToResponse(response, "value", valueForBinding("value", component));
	appendTagAttributeToResponse(response, "class", valueForBinding("class", component));
	appendTagAttributeToResponse(response, "style", valueForBinding("style", component));
	appendTagAttributeToResponse(response, "id", valueForBinding("id", component));
	response.appendContentString(">");
	response.appendContentString((String) valueForBinding("label",component));
	response.appendContentString("</a><div ");
	appendTagAttributeToResponse(response, "id", divID);
	appendTagAttributeToResponse(response, "style", "display:none;");
	response.appendContentString(">");
	appendChildrenToResponse(response, context);
	response.appendContentString("</div>");
	super.appendToResponse(response, context);
    }

    protected void addRequiredWebResources(WOResponse response, WOContext context) {
	addScriptResourceInHead(context, response, "ibox.js");
	addStylesheetResourceInHead(context, response, "ibox.css");
    }

    protected WOActionResults handleRequest(WORequest request, WOContext context) {
	return null;
    }
}
