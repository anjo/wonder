<project name="dist-generic" default="all" basedir="../..">

    <target name="copy.utilities">
        <property name="dist" value="${dist.base}/${project.name}-${project.version}"/>

        <copy todir="${dist}/Utilities">
            <fileset dir="${wonder.root}/Utilities" />
        </copy>

        <echo message="-------------------------------------" />
        <echo message="Utilities" />
        <echo message="-------------------------------------" />
    </target>

    <target name="copy.pbtemplates">
        <property name="dist" value="${dist.base}/${project.name}-${project.version}"/>

        <copy todir="${dist}/ProjectBuilderTemplates"
                includeEmptyDirs="false" preservelastmodified="true" >
            <fileset dir="${wonder.root}/Common/ProjectBuilderTemplates">
                <exclude name="**/Project Wonder/**" />
            </fileset>
        </copy>
        
        <echo message="-------------------------------------" />
        <echo message="Project Builder Templates" />
        <echo message="-------------------------------------" />
    </target>

    <target name="dist.source">
        <copy todir="${dist.base}/${project.name}-src-${project.version}" 
                includeEmptyDirs="false" preservelastmodified="true">
            <fileset dir="${wonder.root}" />
        </copy>
        
        <tar tarfile="${dist.base}/${project.name}-src-${project.version}.tar" longfile="gnu">
            <tarfileset dir="${dist.base}/${project.name}-src-${project.version}">
                <exclude name="**/CVS/*" />
             	<exclude name="**/dist/**"/>
            </tarfileset>
        </tar>

        <gzip src="${dist.base}/${project.name}-src-${project.version}.tar" 
            zipfile="${dist.base}/${project.name}-src-${project.version}.tgz"/>

        <delete file="${dist.base}/${project.name}-src-${project.version}.tar"/>
    </target>

    <target name="dist.prebuilt.zip">
        <zip destfile="${dist.base}/${project.name}-${project.version}.zip" 
            basedir="${dist.base}/${project.name}-${project.version}"
            excludes="**/CVS/*, **/dist/**" />
    </target>

    <target name="all" depends="copy.utilities, copy.pbtemplates, dist.source, dist.prebuilt.zip" />
	
</project>
