package er.extensions;

// Generated by the WOLips Templateengine Plug-in at 20.05.2007 08:47:30

import com.webobjects.appserver.*;
import com.webobjects.appserver._private.WOSubmitButton;
import com.webobjects.foundation.NSDictionary;

/**
 * Javascript enabled button that does not submit the form, but changes the location to the action.
 * 
 * Usefull for cancel buttons which should not submit the page and create all the validation messages.
 * 
 * @author ak
 * 
 */
public class ERXLinkButton extends WOSubmitButton {

	public ERXLinkButton(String s, NSDictionary nsdictionary, WOElement woelement) {
		super(s, nsdictionary, woelement);
	}

	public WOActionResults invokeAction(WORequest worequest, WOContext wocontext) {
		wocontext._setActionInvoked(true);
		return (WOActionResults) _action.valueInComponent(wocontext.component());
	}

	public void appendAttributesToResponse(WOResponse woresponse, WOContext wocontext) {
		String action = (String) wocontext.componentActionURL();
		woresponse._appendTagAttributeAndValue("onclick", "document.location.href='" + action + "'; return false;", false);
		super.appendAttributesToResponse(woresponse, wocontext);
	}

	public void appendToResponse(WOResponse woresponse, WOContext wocontext) {
		super.appendToResponse(woresponse, wocontext);
	}
}