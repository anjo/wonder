<project name="ERDirectToWeb" default="all" basedir="../../../..">
    <property name="project.principal.class" value="er.directtoweb.ERDirectToWeb" />
    <property name="project.name" value="${ant.project.name}" />

    <!-- dont touch from here on 
    <property name="project.name" value="${ant.project.name}" />
    <property name="project.dir" value="${basedir}" /> -->
    <!-- ==================================================== -->
    <!-- Sets up base properties                              -->
    <!-- ==================================================== -->


    <target name="macosx">
        <condition property="is-macosx">
            <and>
                <os family="mac" />
                <os family="unix" />
            </and>
        </condition>
    </target>

    <target name="windows">
        <condition property="is-windows">
            <os family="windows" />
        </condition>
    </target>

    <target name="unix">
        <condition property="is-unix">
            <and>
                <os family="unix" />
                <not><os family="mac" /></not>
            </and>
        </condition>
    </target>

    <target name="check-macosx" if="is-macosx" depends="macosx">
        <echo message="is Mac OS X ..." />
        <property name="next.root" value="/System" />
        <property name="wo.woroot" value="${next.root}" />
        <property name="wo.localroot" value="/" />
        <property name="build.root" value="${user.home}/Roots" />
    </target>

    <target name="check-windows" if="is-windows" depends="windows">
        <echo message="is Windows ..." />
        <property environment="env" />
        <property name="next.root" value="${env.NEXT_ROOT}" />
        <property name="wo.woroot" value="${next.root}" />
        <property name="wo.localroot" value="${next.root}/Local" />
        <property name="build.root" value="C:/Roots" />
    </target>
   
    <target name="check-unix" if="is-unix" depends="unix">
        <echo message="is Unix ..." />
        <property name="next.root" value="/" />
        <property name="wo.woroot" value="${next.root}" />
        <property name="wo.localroot" value="${next.root}/Local" />
        <property name="build.root" value="${user.home}/Roots" />
    </target>

    <target name="init" depends="check-macosx, check-windows, check-unix" unless="init"
                description="initialize properties">
        <property name="wo.system.root" value="${wo.woroot}/Library/Frameworks" />
        <property name="wo.local.root" value="${wo.localroot}/Library/Frameworks" />
        <property name="wo.server.root" value="/Library/WebServer/Documents/WebObjects/Frameworks" />
        <property name="wonder.root" value="${basedir}" />
    </target>
    
    

    <target name="clean" depends="init">
        <ant antfile="Build/build/generic.xml" target="${ant.project.name}.clean" />
    </target>

    <target name="install" depends="init">
        <ant antfile="Build/build/generic.xml" target="${ant.project.name}install" />
    </target>

    <target name="usage" depends="init">
        <ant antfile="Build/build/common.xml" target="usage" />
    </target>

    <target name="all" depends="init">
        <ant antfile="Build/build/generic.xml" target="${ant.project.name}.all" />
    </target>
</project>
